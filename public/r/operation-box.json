{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "operation-box",
  "type": "registry:ui",
  "dependencies": ["openapi-types", "react"],
  "registryDependencies": [
    "https://pivotkit.vercel.app/r/i18n.json",
    "https://pivotkit.vercel.app/r/deprecated-badge.json",
    "https://pivotkit.vercel.app/r/description-display.json",
    "https://pivotkit.vercel.app/r/expand-collapse.json",
    "https://pivotkit.vercel.app/r/external-docs-display.json",
    "https://pivotkit.vercel.app/r/method-label.json",
    "https://pivotkit.vercel.app/r/operation-path.json",
    "https://pivotkit.vercel.app/r/parameters-section.json",
    "https://pivotkit.vercel.app/r/request-body-section.json",
    "https://pivotkit.vercel.app/r/responses-section.json",
    "https://pivotkit.vercel.app/r/security-requirements-section.json"
  ],
  "files": [
    {
      "path": "registry/default/ui/operation-box.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { useI18n } from \"@/registry/default/lib/i18n\";\nimport { DeprecatedBadge } from \"@/registry/default/ui/deprecated-badge\";\nimport { DescriptionDisplay } from \"@/registry/default/ui/description-display\";\nimport { ExpandCollapse } from \"@/registry/default/ui/expand-collapse\";\nimport { ExternalDocsDisplay } from \"@/registry/default/ui/external-docs-display\";\nimport { MethodLabel } from \"@/registry/default/ui/method-label\";\nimport { OperationPath } from \"@/registry/default/ui/operation-path\";\nimport { ParametersSection } from \"@/registry/default/ui/parameters-section\";\nimport { RequestBodySection } from \"@/registry/default/ui/request-body-section\";\nimport { ResponsesSection } from \"@/registry/default/ui/responses-section\";\nimport { SecurityRequirementsSection } from \"@/registry/default/ui/security-requirements-section\";\nimport type { OpenAPIV3 } from 'openapi-types';\nimport React, { useState } from \"react\";\n\n// Import types from the centralized types file\n\ninterface OperationBoxProps {\n  path: string;\n  method: string;\n  operation: OpenAPIV3.OperationObject;\n  components?: OpenAPIV3.ComponentsObject;\n  className?: string;\n  onSelectOperation?: () => void;\n  spec?: OpenAPIV3.Document;\n}\n\nconst OperationBox = React.forwardRef<HTMLDivElement, OperationBoxProps>(\n  (\n    { path, method, operation, components, className, onSelectOperation, spec },\n    ref,\n  ) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const { t } = useI18n();\n\n    // Use spec components if provided, otherwise use direct components\n    const resolvedComponents = spec?.components || components;\n\n    const parameters = operation.parameters;\n    const requestBody = operation.requestBody;\n    const responses = operation.responses;\n    const security = operation.security;\n    const externalDocs = operation.externalDocs;\n\n    const handleHeaderClick = () => {\n      if (onSelectOperation) {\n        onSelectOperation();\n      }\n      toggleExpand();\n    };\n\n    const toggleExpand = () => setIsExpanded(!isExpanded);\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"rounded-lg overflow-hidden border bg-background\",\n          operation.deprecated\n            ? \"bg-red-300 dark:bg-red-900/50\" : '',\n          className,\n        )}\n      >\n        {/* Header Section */}\n        <div\n          className={cn(\n            \"p-3 flex justify-between items-center cursor-pointer\",\n            operation.deprecated ? \"bg-red-50 dark:bg-red-900/30\" : \"\",\n          )}\n          onClick={handleHeaderClick}\n        >\n          <div className=\"flex items-center space-x-3 flex-wrap\">\n            <MethodLabel method={method.toUpperCase() as any} />\n            <OperationPath path={path} className=\"break-all\" />\n            {operation.summary && (\n              <span className=\"text-sm text-neutral-700 dark:text-neutral-300 hidden md:inline\">\n                - {operation.summary}\n              </span>\n            )}\n            {operation.deprecated && <DeprecatedBadge />}\n          </div>\n          <ExpandCollapse isExpanded={isExpanded} onToggle={toggleExpand} />\n        </div>\n\n        {/* Collapsible Body */}\n        {isExpanded && (\n          <div className=\"\">\n            {/* Description Section */}\n            {(operation.summary || operation.description || externalDocs) && (\n              <div className=\"p-4 pt-0 space-y-2\">\n                {operation.summary && (\n                  <DescriptionDisplay\n                    className=\"text-base text-neutral-800 dark:text-neutral-200 font-medium md:hidden\"\n                    description={operation.summary}\n                  />\n                )}\n                {operation.description && (\n                  <DescriptionDisplay\n                    description={operation.description}\n                    className=\"text-sm text-neutral-800 dark:text-neutral-200 prose dark:prose-invert max-w-none\"\n                  />\n                )}\n                {externalDocs && (\n                  <ExternalDocsDisplay\n                    externalDocs={externalDocs}\n                    className=\"mt-2\"\n                  />\n                )}\n              </div>\n            )}\n\n            {/* Parameters Section */}\n            {parameters && parameters.length > 0 && (\n              <div className=\"p-4\">\n                <ParametersSection\n                  parameters={parameters}\n                  components={resolvedComponents}\n                />\n              </div>\n            )}\n\n            {/* Request Body Section */}\n            {requestBody && (\n              <div className=\"p-4\">\n                <RequestBodySection\n                  requestBody={requestBody}\n                  components={resolvedComponents}\n                />\n              </div>\n            )}\n\n            {/* Responses Section */}\n            {responses && (\n              <div className=\"p-4\">\n                <ResponsesSection\n                  responses={responses}\n                  components={resolvedComponents}\n                />\n              </div>\n            )}\n\n            {/* Security Requirements Section */}\n            {security && security.length > 0 && (\n              <div className=\"p-4\">\n                <SecurityRequirementsSection security={security} />\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n\nOperationBox.displayName = \"OperationBox\";\n\nexport {\n  OperationBox,\n  type OperationBoxProps\n};\n\n",
      "type": "registry:ui",
      "target": "components/ui/operation-box.tsx"
    }
  ]
}
