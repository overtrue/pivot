{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "operation-detail",
  "type": "registry:ui",
  "dependencies": [
    "openapi-types",
    "react"
  ],
  "registryDependencies": [
    "badge",
    "label",
    "https://pivotkit.vercel.app/r/hooks.json",
    "https://pivotkit.vercel.app/r/lib.json",
    "https://pivotkit.vercel.app/r/deprecated-badge.json",
    "https://pivotkit.vercel.app/r/description-display.json",
    "https://pivotkit.vercel.app/r/external-docs-display.json",
    "https://pivotkit.vercel.app/r/method-label.json",
    "https://pivotkit.vercel.app/r/operation-path.json",
    "https://pivotkit.vercel.app/r/parameters-section.json",
    "https://pivotkit.vercel.app/r/request-body-section.json",
    "https://pivotkit.vercel.app/r/responses-section.json",
    "https://pivotkit.vercel.app/r/security-requirements-section.json"
  ],
  "files": [
    {
      "path": "registry/default/ui/operation-detail.tsx",
      "content": "\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\nimport { useOpenApi } from \"@/registry/default/hooks/use-openapi\";\nimport { useI18n } from \"@/registry/default/lib/i18n\";\nimport { DeprecatedBadge } from \"@/registry/default/ui/deprecated-badge\";\nimport { DescriptionDisplay } from \"@/registry/default/ui/description-display\";\nimport { ExternalDocsDisplay } from \"@/registry/default/ui/external-docs-display\";\nimport { MethodLabel } from \"@/registry/default/ui/method-label\";\nimport { OperationPath } from \"@/registry/default/ui/operation-path\";\nimport { ParametersSection } from \"@/registry/default/ui/parameters-section\";\nimport { RequestBodySection } from \"@/registry/default/ui/request-body-section\";\nimport { ResponsesSection } from \"@/registry/default/ui/responses-section\";\nimport { SecurityRequirementsSection } from \"@/registry/default/ui/security-requirements-section\";\nimport type { OpenAPIV3 } from \"openapi-types\";\nimport React, { useMemo } from \"react\";\n\ninterface OperationDetailProps {\n  // Support multiple input formats for operation\n  operation:\n    | OpenAPIV3.OperationObject\n    | OpenAPIV3.ReferenceObject\n    | Partial<OpenAPIV3.OperationObject>;\n\n  path: string;\n  method: string;\n\n  // Optional for standalone mode\n  components?: OpenAPIV3.ComponentsObject;\n  spec?: OpenAPIV3.Document;\n\n  className?: string;\n}\n\nexport const OperationDetail = React.forwardRef<\n  HTMLDivElement,\n  OperationDetailProps\n>(({ operation, path, method, components, spec, className }, ref) => {\n  const { t } = useI18n();\n\n  // Use OpenAPI hook for intelligent data access\n  const openapi = useOpenApi(spec || null, components);\n\n  // Adapt operation to standard format\n  const adaptedOperation = useMemo(() => {\n    if (typeof operation === 'object' && !('$ref' in operation)) {\n      return operation as OpenAPIV3.OperationObject;\n    }\n    return operation;\n  }, [operation]);\n\n  // Resolve operation using context or fallback\n  const resolvedOperation = openapi.resolve<OpenAPIV3.OperationObject>(\n    adaptedOperation,\n    \"operations\"\n  );\n\n  // Error handling for unresolved references\n  if (!resolvedOperation && adaptedOperation && '$ref' in adaptedOperation) {\n    const refString = (adaptedOperation as OpenAPIV3.ReferenceObject).$ref;\n    return (\n      <div ref={ref} className={cn(\"border rounded p-4\", \"bg-yellow-50 dark:bg-yellow-900/20\", \"border-yellow-200 dark:border-yellow-800\", className)}>\n        <div className=\"flex items-center gap-2 text-sm mb-2\">\n          <MethodLabel method={method.toUpperCase() as any} />\n          <OperationPath path={path} className=\"text-lg font-mono\" />\n        </div>\n        <div className=\"text-yellow-700 dark:text-yellow-400\">\n          Could not resolve operation reference: {refString}\n        </div>\n        {!openapi.hasComponents && (\n          <div className=\"text-xs text-yellow-600 dark:text-yellow-500 mt-2\">\n            üí° Tip: Provide components or wrap with OpenAPIProvider\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  const effectiveOperation = resolvedOperation || adaptedOperation as OpenAPIV3.OperationObject;\n\n  // Á°Æ‰øù method ÊòØÊúâÊïàÁöÑ HTTP ÊñπÊ≥ï\n  const normalizedMethod = method.toUpperCase() as\n    | \"GET\"\n    | \"POST\"\n    | \"PUT\"\n    | \"DELETE\"\n    | \"PATCH\"\n    | \"OPTIONS\"\n    | \"HEAD\";\n\n  const parameters = effectiveOperation.parameters;\n  const requestBody = effectiveOperation.requestBody;\n  const responses = effectiveOperation.responses;\n  const security = effectiveOperation.security;\n  const externalDocs = effectiveOperation.externalDocs;\n\n  return (\n    <div ref={ref} className={cn(\"space-y-6\", className)}>\n      {/* Êìç‰ΩúÂ§¥ÈÉ®‰ø°ÊÅØ */}\n      <div className=\"space-y-4\">\n        {/* ÊñπÊ≥ïÂíåË∑ØÂæÑ */}\n        <div className=\"flex items-center gap-3 flex-wrap\">\n          <MethodLabel method={normalizedMethod} />\n          <OperationPath path={path} className=\"text-lg font-mono\" />\n          {effectiveOperation.deprecated && <DeprecatedBadge />}\n        </div>\n\n        {/* ÊëòË¶Å */}\n        {effectiveOperation.summary && (\n          <h1 className=\"text-2xl font-semibold text-foreground\">\n            {effectiveOperation.summary}\n          </h1>\n        )}\n\n        {/* ÊèèËø∞ */}\n        {effectiveOperation.description && (\n          <DescriptionDisplay\n            description={effectiveOperation.description}\n            className=\"text-muted-foreground prose dark:prose-invert max-w-none\"\n          />\n        )}\n\n        {/* Â§ñÈÉ®ÊñáÊ°£ */}\n        {externalDocs && (\n          <ExternalDocsDisplay externalDocs={externalDocs} className=\"mt-4\" />\n        )}\n      </div>\n\n      {/* Ê†áÁ≠æÂíåÊìç‰ΩúID */}\n      {(effectiveOperation.tags || effectiveOperation.operationId) && (\n        <div className=\"flex flex-wrap gap-4\">\n          {effectiveOperation.tags && effectiveOperation.tags.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">{t(\"Tags\")}</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {effectiveOperation.tags.map((tag: string) => (\n                  <Badge key={tag} variant=\"secondary\">\n                    {tag}\n                  </Badge>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {effectiveOperation.operationId && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">{t(\"Operation ID\")}</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                <Badge variant=\"secondary\" className=\"font-mono\">\n                  {effectiveOperation.operationId}\n                </Badge>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* ÂèÇÊï∞ÈÉ®ÂàÜ */}\n      {parameters && parameters.length > 0 && (\n        <ParametersSection\n          parameters={parameters}\n          components={openapi.components}\n          expanded={true}\n        />\n      )}\n\n      {/* ËØ∑Ê±Ç‰ΩìÈÉ®ÂàÜ */}\n      {requestBody && (\n        <RequestBodySection\n          requestBody={requestBody}\n          components={openapi.components}\n        />\n      )}\n\n      {/* ÂìçÂ∫îÈÉ®ÂàÜ */}\n      {responses && (\n        <ResponsesSection\n          responses={responses}\n          components={openapi.components}\n          spec={openapi.spec || undefined}\n        />\n      )}\n\n      {/* ÂÆâÂÖ®Ë¶ÅÊ±ÇÈÉ®ÂàÜ */}\n      {security && security.length > 0 && (\n        <SecurityRequirementsSection security={security} />\n      )}\n    </div>\n  );\n});\n\nOperationDetail.displayName = \"OperationDetail\";\n\nexport { type OperationDetailProps };\n",
      "type": "registry:ui",
      "target": "components/pivot/operation-detail.tsx"
    }
  ]
}